<app-header (execRefresh)="refreshMarket()"></app-header>

<ion-content>
  <ion-row class="date">
    <ion-col>
      <p>Mercados abiertos</p>
    </ion-col>
    <ion-col>
      <p class="ion-text-end">{{today | date:'medium'}}</p>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="request" class="ion-justify-content-center">
    <ion-col size="6" class="ion-align-items-center">
      <ion-row class="spinnerCenter">
        <ion-spinner></ion-spinner>
        <h4>Cargando datos...</h4>
      </ion-row>
    </ion-col>
  </ion-row>


  <div *ngIf="!request">
    <ion-row class="header">
      <ion-col size="4">
        <ion-label>Mercados</ion-label>
      </ion-col>
      <ion-col size="5">
        <ion-label>Precio</ion-label>
      </ion-col>
      <ion-col size="3">
      </ion-col>
    </ion-row>
    <ion-row *ngFor="let item of datos" class="datos-mercado">
      <ion-col size="4" class="header-table">
        <ion-label class="name-commoditie">{{item.nombre}}</ion-label>
      </ion-col>
      <ion-col size="5" class="header-table">
        <ion-label class="cantidad">{{item.precio}} <small>{{item.par}}</small></ion-label>
      </ion-col>

      <ion-col size="3" class="header-table">
        <div *ngIf="item.movilidad > 0" class="positivo ion-text-center">
          <!--<ion-icon name="arrow-down" style="color: #0ec254"></ion-icon>-->
          + {{item.movilidad}}%
        </div>
        <div *ngIf="item.movilidad < 0" class="negativo ion-text-center">
          {{item.movilidad}}%
        </div>
        <div *ngIf="item.movilidad == 0" class="default ion-text-center">
          0 %
        </div>
      </ion-col>
    </ion-row>
    <br>
    <app-market-legend [market]="'I'"></app-market-legend>

    <app-ultimas-noticias></app-ultimas-noticias>
  </div>
</ion-content>


